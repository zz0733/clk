/*! This file is created by qianduan */
webpackJsonp([84],{31:function(e,t,a){a("j1ja"),e.exports=a("cTfC")},YtJ0:function(e,t,a){"use strict";var o=a("7+uW"),r=a("NYxO"),n=a("mvHQ"),s=a.n(n),i={userinfo:localStorage.userinfo&&JSON.parse(localStorage.userinfo),flag:!0,aid:"",ifpourT:!0},c={namespaced:!0,state:i,mutations:{resetUserinfo:function(e,t){e.userinfo=t},reloadUserinfo:function(e,t){localStorage.setItem("userinfo",s()(t)),e.userinfo=localStorage.userinfo&&JSON.parse(localStorage.userinfo)},resetFlag:function(e,t){e.flag=t},resetPour:function(e,t){e.ifpourT=t}}},u=c,l={login:{ifLogin:!1,modelTitle:"用户登录",chooseModel:"用户登录"},tipModel:{bool:!1,title:"",model:""},promit:{isPromit:!1}},d={namespaced:!0,state:l,mutations:{showTipModel:function(e,t){e.tipModel.bool=t.bool,e.tipModel.title=t.title,e.tipModel.model=t.model},showLogin:function(e,t){e.login.ifLogin=t},setLoginTitle:function(e,t){e.login.modelTitle=t},setChooseModel:function(e,t){e.login.chooseModel=t}},actions:{}},f=d,p={sideReady:!1,childNeedMess:{title:"",issue:"",id:"",total:"",plays:"",code:"",series:""},shareData:{},childNeed:""},h={namespaced:!0,state:p,mutations:{resetChildMsg:function(e,t){e.childNeedMess.title=t.title,e.childNeedMess.id=t.id},resetSeriesMsg:function(e,t){e.childNeedMess.code=t.code,e.childNeedMess.series=t.series,e.childNeedMess.id=t.id,e.childNeedMess.title=t.title},setReady:function(e,t){e.sideReady=!0},resetShareData:function(e,t){e.shareData=t},resetTrend:function(e,t){e.childNeed=t}},actions:{}},m=h,g={navActive:localStorage.navAvtive||0,registerShow:!1},v={namespaced:!0,state:g,mutations:{setNav:function(e,t){e.navActive=t,localStorage.setItem("navAvtive",t)},showRegister:function(e,t){e.registerShow=t}}},y=v,S={curr:localStorage.navCurr||0},b={state:S,mutations:{setCurr:function(e,t){e.curr=t,localStorage.setItem("navCurr",t)}}},w=b,x=a("Xxa5"),A=a.n(x),N=a("exGp"),C=a.n(N),k={isPersonal:!1,liActive:0,contentView:"recharge",navView:0,navActive:0,navText:"充值",paymentData:[],categoryId:"",itemDatas:"",withdraw:0,isRefresh:0,bankSafety:0,payName:"",classType:"",loadingShow:!1},M={state:k,mutations:{showPersonal:function(e,t){var a=this;return C()(A.a.mark(function o(){return A.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.isPersonal=t.bool,e.liActive=t.num,t.bool?document.querySelector("html").setAttribute("style","overflow: hidden"):document.querySelector("html").setAttribute("style","overflow: auto");case 3:case"end":return a.stop()}},o,a)}))()},showContent:function(e,t){e.contentView=t.parent},showNav:function(e,t){e.navView=t.child},liActive:function(e,t){e.navActive=t},navText:function(e,t){e.navText=t},withdraw:function(e,t){e.withdraw=t},refresh:function(e,t){e.isRefresh+=t},payment:function(e,t){e.categoryId=t.id,e.itemDatas=t},paymentDataFc:function(e,t){e.paymentData=t},bankSafety:function(e,t){e.bankSafety=t},loading:function(e,t){e.loadingShow=t}},actions:{}},T=M;o.default.use(r.a);var O=new r.a.Store({modules:{mainState:u,alert:f,lottery:m,hsyl:y,wbw:w,personal:T}});t.a=O},cTfC:function(e,t,a){"use strict";function o(){function e(e,t){return this.$http.post(""+e,t)}this.vpSubmit=function(){var t=u()(n.a.mark(function t(a){var o,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.token){t.next=3;break}return this.$store.commit("alert/showLogin",!0),t.abrupt("return",!1);case 3:return o=JSON.parse(localStorage.totalCount),"角"==o.mol?a[0].money=String(a[0].money/10):"分"==o.mol&&(a[0].money=String(a[0].money/100)),a[0].money=a[0].money*o.db,t.next=9,e.call(this,this.$HOST_NAME+"/lottery/submit",{lotteryId:this.$route.meta.id,issue:this.childNeedMess.issue,code:i()(a),rebate:this.rebate});case 9:r=t.sent,r&&200==r.code?(this.dNotify(r.data,"success"),this.resetAll(),l.a.vpGetBasicInfo.call(this)):this.dNotify(r.message,"error");case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Xxa5"),n=a.n(r),s=a("mvHQ"),i=a.n(s),c=a("exGp"),u=a.n(c),l=a("xzxg");t.default=new o},xzxg:function(e,t,a){"use strict";function o(){function e(e,t){return f.a.post(e,t)}var t=function(){var t=u()(i.a.mark(function t(a){var r,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.call(a,p.default.prototype.$HOST_NAME+"/member/userinfo",{});case 2:if(r=t.sent,200!==r.code){t.next=9;break}return s=r.data,localStorage.setItem("userinfo",n()(s)),t.abrupt("return",s);case 9:o.removeCache();case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),a=function(){var t=u()(i.a.mark(function t(a){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.call(a,p.default.prototype.$HOST_NAME+"/member/logout",{});case 2:r=t.sent,200===r.code?(o.removeCache(),window.location.reload()):o.removeCache();case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o=this,r=!0;this.vpGetBasicInfo=u()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.token){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,t(this);case 4:a=e.sent,a&&l.a.commit("mainState/reloadUserinfo",a);case 6:case"end":return e.stop()}},e,this)})),this.expiredPart=function(e){if(!e)return!1;var t=e.split(".")[1],a={enKey:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",deKey:new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),encode:function(e){for(var t,a,o,r=new Array,n=0;n+3<=e.length;)t=e.charCodeAt(n++),a=e.charCodeAt(n++),o=e.charCodeAt(n++),r.push(this.enKey.charAt(t>>2),this.enKey.charAt((t<<4)+(a>>4)&63)),r.push(this.enKey.charAt((a<<2)+(o>>6)&63),this.enKey.charAt(63&o));return n<e.length&&(t=e.charCodeAt(n++),r.push(this.enKey.charAt(t>>2)),n<e.length?(a=e.charCodeAt(n),r.push(this.enKey.charAt((t<<4)+(a>>4)&63)),r.push(this.enKey.charAt(a<<2&63),"=")):r.push(this.enKey.charAt(t<<4&63),"==")),r.join("")},decode:function(e){var t,a,o,r,n=new Array,s=0;for(e=e.replace(/[^A-Za-z0-9\+\/]/g,"");s+4<=e.length;)t=this.deKey[e.charCodeAt(s++)],a=this.deKey[e.charCodeAt(s++)],o=this.deKey[e.charCodeAt(s++)],r=this.deKey[e.charCodeAt(s++)],n.push(String.fromCharCode((t<<2&255)+(a>>4),(a<<4&255)+(o>>2),(o<<6&255)+r));return s+1<e.length&&(t=this.deKey[e.charCodeAt(s++)],a=this.deKey[e.charCodeAt(s++)],s<e.length?(o=this.deKey[e.charCodeAt(s)],n.push(String.fromCharCode((t<<2&255)+(a>>4),(a<<4&255)+(o>>2)))):n.push(String.fromCharCode((t<<2&255)+(a>>4)))),n.join("")}},o=JSON.parse(a.decode(t)),r=Math.floor((new Date).getTime()/1e3);return{exp:o.exp,timestamp:r}},this.expired=function(){var e=o.expiredPart(localStorage.token);if(e.exp-e.timestamp<=1800&&0<=e.exp-e.timestamp){if(!r)return!1;r=!1,setTimeout(function(){o.vpReloadToken()},5e3)}else 0>e.exp-e.timestamp&&o.removeCache()},this.vpReloadToken=u()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.token){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,f.a.post(p.default.prototype.$HOST_NAME+"/member/refresh",{});case 4:t=e.sent,200===t.code?(localStorage.setItem("token",t.data),r=!0):o.removeCache();case 6:case"end":return e.stop()}},e,this)})),this.vpSetConfig=function(){var e=this;if(localStorage.configTime)return o.vpGetBasWebsoc(),!1;p.default.prototype.$nextTick(u()(i.a.mark(function t(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(p.default.prototype.$HOST_NAME+"/config",{});case 2:a=e.sent,a&&200==a.code&&(a.data.siteConfig.siteId=a.data.id,localStorage.setItem("configTime",a.data.data?a.data.data.updated_at:a.data.updated_at),localStorage.setItem("config",a.data.data?n()(a.data.data.siteConfig):n()(a.data.siteConfig)),o.vpGetBasWebsoc());case 4:case"end":return e.stop()}},t,e)})))},this.vpReloadConfig=u()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(p.default.prototype.$HOST_NAME+"/config",{});case 2:t=e.sent,200===t.code&&(t.data.siteConfig.siteId=t.data.id,localStorage.setItem("configTime",t.sign),localStorage.setItem("config",t.data.data?n()(t.data.data.siteConfig):n()(t.data.siteConfig)));case 4:case"end":return e.stop()}},e,this)}));var s=!0,c="";this.vpGetBasWebsoc=function(){var t=this;if(c=this,!s)return!1;p.default.prototype.$nextTick(u()(i.a.mark(function a(){var r,n,u,l,d,f,h,m;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h=function(e){for(var t="",a=0;a<e;a++){var o=Math.ceil(35*Math.random());t+=f[o]}return t},t.next=3,e(p.default.prototype.$HOST_NAME+"/websocket",{});case 3:if(r=t.sent,200!=r.code){t.next=8;break}s=!1,t.next=10;break;case 8:if(r){t.next=10;break}return t.abrupt("return",!1);case 10:n=r.data.wss,u={},l="",d="",f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],localStorage.userinfo&&(l=""+JSON.parse(localStorage.userinfo).uid),"test"==localStorage.Public_User?d="test":"vm"==localStorage.Public_User?d="vm":"v1"==localStorage.Public_User&&localStorage.token?d="member":(m=JSON.parse(localStorage.config).siteId,d="anonymous",l=m+"_"+(new Date).getTime()+h(16)),u.socket=Stomp.client(n),u.headers={id:l,group:d},u.message={all:"/topic/public",group:"/group/"+u.headers.group,alone:"/user/"+u.headers.group+"_"+u.headers.id+"/message"},u.socket.connect(u.headers,function(e){u.socket.subscribe(u.message.all,function(e){"user.lotteryOpen"==JSON.parse(e.body).type?c.websoc&&c.websoc(JSON.parse(e.body)):o.publicInform(JSON.parse(e.body))}),u.socket.subscribe(u.message.group,function(e){"user.lotteryOpen"==JSON.parse(e.body).type?c.websoc&&c.websoc(JSON.parse(e.body)):o.publicInform(JSON.parse(e.body))}),u.socket.subscribe(u.message.alone,function(e){"user.lotteryOpen"==JSON.parse(e.body).type?c.websoc&&c.websoc(JSON.parse(e.body)):o.publicInform(JSON.parse(e.body))})});case 21:case"end":return t.stop()}},a,t)})))},this.publicInform=function(e){if("user.lotteryOpen"==e.type)return!1;Object(h.Notification)({title:e.typeName?e.typeName:"温馨提示",message:e.message,type:"success"})},this.logout=u()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.token){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,a(this);case 4:t=e.sent;case 5:case"end":return e.stop()}},e,this)})),this.removeCache=function(){if(localStorage.removeItem("token"),localStorage.removeItem("userinfo"),l.a.commit("mainState/resetUserinfo",null),"/api/vm"==p.default.prototype.$HOST_NAME)return!1;localStorage.removeItem("Public_User"),p.default.prototype.$HOST_NAME="/api/v1"},this.setCache=function(e,t,a){if(localStorage.setItem("userinfo",n()(e.data.userinfo)),localStorage.setItem("token",e.data.token),a||l.a.commit("mainState/reloadUserinfo",e.data.userinfo),"/api/vm"==p.default.prototype.$HOST_NAME)return!1;localStorage.setItem("Public_User",t),p.default.prototype.$HOST_NAME="/api/"+t}}var r=a("mvHQ"),n=a.n(r),s=a("Xxa5"),i=a.n(s),c=a("exGp"),u=a.n(c),l=a("YtJ0"),d=a("mtWM"),f=a.n(d),p=a("7+uW"),h=a("zL8q");a.n(h);t.a=new o}},[31]);