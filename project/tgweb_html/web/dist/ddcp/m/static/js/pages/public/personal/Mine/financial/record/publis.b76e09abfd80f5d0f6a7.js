/*! sign by h5 */
webpackJsonp([128],{23:function(t,e,o){o("j1ja"),t.exports=o("Uj0n")},FBTV:function(t,e,o){"use strict";/*!
 * mescroll -- 精致的下拉刷新和上拉加载js框架  ( a great JS framework for pull-refresh and pull-up-loading )
 * version 1.3.2
 * 2018-01-01
 * 
 * 您如果在vue,angular等环境中,因作用域的问题未能正常引入或初始化Mescroll对象,则可引用mescroll.m.js;
 * mescroll.m.js去掉了mescroll.min.js套的一层模块规范的代码
 * 因为没有闭包限制作用域,所以能解决某些情况下引用mescroll.min.js报'Mescroll' undefined的问题
 * 具体请参考: https://github.com/mescroll/mescroll/issues/56
 */
function n(t,e){var o=this;if(o.version="1.3.2",o.isScrollBody=!t||"body"==t,o.scrollDom=o.isScrollBody?document.body:o.getDomById(t),o.scrollDom){o.options=e||{};var n=navigator.userAgent,r=!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),s=void 0===window.orientation,a=n.indexOf("Android")>-1||n.indexOf("Adr")>-1;o.os={ios:r,pc:s,android:a},o.isDownScrolling=!1,o.isUpScrolling=!1,o.initDownScroll(),o.initUpScroll(),setTimeout(function(){o.optDown.use&&o.optDown.auto&&(o.optDown.autoShowLoading?o.triggerDownScroll():o.optDown.callback&&o.optDown.callback(o)),o.optUp.use&&o.optUp.auto&&!o.isUpAutoLoad&&o.triggerUpScroll()},30)}}var r=o("pFYg"),s=o.n(r);n.prototype.extendDownScroll=function(t){n.extend(t,{use:!0,auto:!0,autoShowLoading:!1,isLock:!1,isBoth:!1,offset:80,outOffsetRate:.2,bottomOffset:20,minAngle:45,hardwareClass:"mescroll-hardware",warpId:null,warpClass:"mescroll-downwarp",resetClass:"mescroll-downwarp-reset",htmlContent:'<p class="downwarp-progress"></p><p class="downwarp-tip">下拉刷新 </p>',inited:function(t,e){t.downTipDom=e.getElementsByClassName("downwarp-tip")[0],t.downProgressDom=e.getElementsByClassName("downwarp-progress")[0]},inOffset:function(t){t.downTipDom&&(t.downTipDom.innerHTML="下拉刷新"),t.downProgressDom&&t.downProgressDom.classList.remove("mescroll-rotate")},outOffset:function(t){t.downTipDom&&(t.downTipDom.innerHTML="释放更新")},onMoving:function(t,e,o){if(t.downProgressDom){var n=360*e;t.downProgressDom.style.webkitTransform="rotate("+n+"deg)",t.downProgressDom.style.transform="rotate("+n+"deg)"}},beforeLoading:function(t,e){return!1},showLoading:function(t){t.downTipDom&&(t.downTipDom.innerHTML="加载中 ..."),t.downProgressDom&&t.downProgressDom.classList.add("mescroll-rotate")},callback:function(t){t.resetUpScroll()}})},n.prototype.extendUpScroll=function(t){var e=this.os.pc;n.extend(t,{use:!0,auto:!0,isLock:!1,isBoth:!1,isBounce:!0,callback:null,page:{num:0,size:10,time:null},noMoreSize:5,offset:100,toTop:{warpId:null,src:null,html:null,offset:1e3,warpClass:"mescroll-totop",showClass:"mescroll-fade-in",hideClass:"mescroll-fade-out",duration:300,supportTap:!1},loadFull:{use:!1,delay:500},empty:{warpId:null,icon:null,tip:"暂无相关数据~",btntext:"",btnClick:null,supportTap:!1},clearId:null,clearEmptyId:null,hardwareClass:"mescroll-hardware",warpId:null,warpClass:"mescroll-upwarp",htmlLoading:'<p class="upwarp-progress mescroll-rotate"></p><p class="upwarp-tip">加载中..</p>',htmlNodata:'<p class="upwarp-nodata">亲,没有更多数据了</p>',inited:function(t,e){},showLoading:function(t,e){e.innerHTML=t.optUp.htmlLoading},showNoMore:function(t,e){e.innerHTML=t.optUp.htmlNodata},onScroll:null,scrollbar:{use:e,barClass:"mescroll-bar"}})},n.extend=function(t,e){if(!t)return e;for(var o in e)null==t[o]?t[o]=e[o]:"object"==s()(t[o])&&n.extend(t[o],e[o]);return t},n.prototype.initDownScroll=function(){var t=this;if(t.optDown=t.options.down||{},t.extendDownScroll(t.optDown),t.touchstartEvent=function(e){t.isScrollTo&&e.preventDefault(),t.startPoint=t.getPoint(e),t.lastPoint=t.startPoint,t.maxTouchmoveY=t.getBodyHeight()-t.optDown.bottomOffset,t.inTouchend=!1,t.os.pc&&t.getScrollTop()<=0&&(t.scrollDom.addEventListener("mousemove",t.touchmoveEvent),document.ondragstart=function(){return!1})},t.scrollDom.addEventListener("mousedown",t.touchstartEvent),t.scrollDom.addEventListener("touchstart",t.touchstartEvent),t.touchmoveEvent=function(e){var o=t.getScrollTop(),n=t.getPoint(e),r=n.y-t.startPoint.y;if(r>0){if(o<=0&&(e.cancelable&&!e.defaultPrevented&&e.preventDefault(),t.optDown.use&&!t.inTouchend&&!t.isDownScrolling&&!t.optDown.isLock&&(!t.isUpScrolling||t.isUpScrolling&&t.optUp.isBoth))){var s=Math.abs(t.lastPoint.x-n.x),a=Math.abs(t.lastPoint.y-n.y),i=Math.sqrt(s*s+a*a);if(0!=i){var l=Math.asin(a/i)/Math.PI*180;if(l<t.optDown.minAngle)return}if(t.maxTouchmoveY>0&&n.y>=t.maxTouchmoveY)return t.inTouchend=!0,void t.touchendEvent();var c=n.y-t.lastPoint.y;t.downHight||(t.downHight=0),t.downHight<t.optDown.offset?(1!=t.movetype&&(t.movetype=1,t.optDown.inOffset(t),t.downwarp.classList.remove(t.optDown.resetClass),t.scrollDom.classList.add(t.optDown.hardwareClass),t.scrollDom.style.webkitOverflowScrolling="auto",t.isMoveDown=!0),t.downHight+=c):(2!=t.movetype&&(t.movetype=2,t.optDown.outOffset(t),t.downwarp.classList.remove(t.optDown.resetClass),t.scrollDom.classList.add(t.optDown.hardwareClass),t.scrollDom.style.webkitOverflowScrolling="auto",t.isMoveDown=!0),t.downHight+=c>0?c*t.optDown.outOffsetRate:c),t.downwarp.style.height=t.downHight+"px";var p=t.downHight/t.optDown.offset;t.optDown.onMoving(t,p,t.downHight)}}else if(r<0){var u=t.getScrollHeight(),d=t.getClientHeight(),h=u-d-o;!t.optUp.isBounce&&e.cancelable&&!e.defaultPrevented&&h<=0&&e.preventDefault(),t.optUp.use&&!t.optUp.isLock&&t.optUp.hasNext&&!t.isUpScrolling&&(!t.isDownScrolling||t.isDownScrolling&&t.optDown.isBoth)&&(d+t.optUp.offset>=u||h<=0)&&t.triggerUpScroll()}t.lastPoint=n},t.scrollDom.addEventListener("touchmove",t.touchmoveEvent),t.touchendEvent=function(){t.optDown.use&&t.isMoveDown&&(t.downHight>=t.optDown.offset?t.triggerDownScroll():(t.downwarp.classList.add(t.optDown.resetClass),t.downHight=0,t.downwarp.style.height=0),t.scrollDom.style.webkitOverflowScrolling="touch",t.scrollDom.classList.remove(t.optDown.hardwareClass),t.movetype=0,t.isMoveDown=!1),t.os.pc&&(t.scrollDom.removeEventListener("mousemove",t.touchmoveEvent),document.ondragstart=function(){return!0})},t.scrollDom.addEventListener("mouseup",t.touchendEvent),t.scrollDom.addEventListener("mouseleave",t.touchendEvent),t.scrollDom.addEventListener("touchend",t.touchendEvent),t.scrollDom.addEventListener("touchcancel",t.touchendEvent),t.optDown.use){t.downwarp=document.createElement("div"),t.downwarp.className=t.optDown.warpClass,t.downwarp.innerHTML='<div class="downwarp-content">'+t.optDown.htmlContent+"</div>";var e=t.optDown.warpId?t.getDomById(t.optDown.warpId):t.scrollDom;t.optDown.warpId&&e?e.appendChild(t.downwarp):(e||(e=t.scrollDom),e.insertBefore(t.downwarp,t.scrollDom.firstChild)),setTimeout(function(){t.optDown.inited(t,t.downwarp)},0)}},n.prototype.getPoint=function(t){return{x:t.touches?t.touches[0].pageX:t.clientX,y:t.touches?t.touches[0].pageY:t.clientY}},n.prototype.triggerDownScroll=function(){this.optDown.beforeLoading(this,this.downwarp)||(this.showDownScroll(),this.optDown.callback&&this.optDown.callback(this))},n.prototype.showDownScroll=function(){this.isDownScrolling=!0,this.optDown.showLoading(this),this.downHight=this.optDown.offset,this.downwarp.classList.add(this.optDown.resetClass),this.downwarp.style.height=this.optDown.offset+"px"},n.prototype.endDownScroll=function(){this.downHight=0,this.downwarp.style.height=0,this.isDownScrolling=!1,this.downProgressDom&&this.downProgressDom.classList.remove("mescroll-rotate")},n.prototype.lockDownScroll=function(t){null==t&&(t=!0),this.optDown.isLock=t},n.prototype.initUpScroll=function(){var t=this;if(t.optUp=t.options.up||{use:!1},t.extendUpScroll(t.optUp),t.optUp.scrollbar.use&&t.scrollDom.classList.add(t.optUp.scrollbar.barClass),t.optUp.isBounce||t.setBounce(!1),0!=t.optUp.use){t.optUp.hasNext=!0,t.upwarp=document.createElement("div"),t.upwarp.className=t.optUp.warpClass;var e;t.optUp.warpId&&(e=t.getDomById(t.optUp.warpId)),e||(e=t.scrollDom),e.appendChild(t.upwarp),t.preScrollY=0,t.scrollEvent=function(){var e=t.getScrollTop(),o=e-t.preScrollY>0;if(t.preScrollY=e,!t.isUpScrolling&&(!t.isDownScrolling||t.isDownScrolling&&t.optDown.isBoth)){if(!t.optUp.isLock&&t.optUp.hasNext){t.getScrollHeight()-t.getClientHeight()-e<=t.optUp.offset&&o&&t.triggerUpScroll()}var n=t.optUp.toTop;(n.src||n.html)&&(e>=n.offset?t.showTopBtn():t.hideTopBtn())}t.optUp.onScroll&&t.optUp.onScroll(t,e,o)},t.isScrollBody?window.addEventListener("scroll",t.scrollEvent):t.scrollDom.addEventListener("scroll",t.scrollEvent),setTimeout(function(){t.optUp.inited(t,t.upwarp)},0)}},n.prototype.setBounce=function(t){!this.isScrollBody&&this.os.ios&&(0==t?(this.optUp.isBounce=!1,window.addEventListener("touchmove",this.bounceTouchmove)):(this.optUp.isBounce=!0,window.removeEventListener("touchmove",this.bounceTouchmove)))},n.prototype.bounceTouchmove=function(t){for(var e=this,o=t.target,n=!0;o!==document.body&&o!==document;){var r=o.classList;if(r){if(r.contains("mescroll")||r.contains("mescroll-touch")){n=!1;break}if(r.contains("mescroll-touch-x")||r.contains("mescroll-touch-y")){var s=t.touches?t.touches[0].pageX:t.clientX,a=t.touches?t.touches[0].pageY:t.clientY;e.preWinX||(e.preWinX=s),e.preWinY||(e.preWinY=a);var i=Math.abs(e.preWinX-s),l=Math.abs(e.preWinY-a),c=Math.sqrt(i*i+l*l);if(e.preWinX=s,e.preWinY=a,0!=c){var p=Math.asin(l/c)/Math.PI*180;if(p<=45&&r.contains("mescroll-touch-x")||p>45&&r.contains("mescroll-touch-y")){n=!1;break}}}}o=o.parentNode}n&&t.cancelable&&!t.defaultPrevented&&t.preventDefault()},n.prototype.triggerUpScroll=function(){this.isUpScrolling||(this.showUpScroll(),this.optUp.page.num++,this.isUpAutoLoad=!0,this.optUp.callback&&this.optUp.callback(this.optUp.page,this))},n.prototype.showUpScroll=function(){this.isUpScrolling=!0,this.upwarp.classList.add(this.optUp.hardwareClass),this.upwarp.style.visibility="visible",this.optUp.showLoading(this,this.upwarp)},n.prototype.showNoMore=function(){this.upwarp.style.visibility="visible",this.optUp.hasNext=!1,this.optUp.showNoMore(this,this.upwarp)},n.prototype.hideUpScroll=function(){this.upwarp.style.visibility="hidden",this.upwarp.classList.remove(this.optUp.hardwareClass);var t=this.upwarp.getElementsByClassName("upwarp-progress")[0];t&&t.classList.remove("mescroll-rotate")},n.prototype.endUpScroll=function(t){null!=t&&(t?this.showNoMore():this.hideUpScroll()),this.isUpScrolling=!1},n.prototype.resetUpScroll=function(t){if(this.optUp&&this.optUp.use){var e=this.optUp.page;this.prePageNum=e.num,this.prePageTime=e.time,e.num=1,e.time=null,this.isDownScrolling||0==t||(null==t?(this.removeEmpty(),this.clearDataList(),this.showUpScroll()):this.showDownScroll()),this.isUpAutoLoad=!0,this.optUp.callback&&this.optUp.callback(e,this)}},n.prototype.setPageNum=function(t){this.optUp.page.num=t-1},n.prototype.setPageSize=function(t){this.optUp.page.size=t},n.prototype.clearDataList=function(){var t=this.optUp.clearId||this.optUp.clearEmptyId;if(t){var e=this.getDomById(t);e&&(e.innerHTML="")}},n.prototype.endByPage=function(t,e,o){var n;this.optUp.use&&null!=e&&(n=this.optUp.page.num<e),this.endSuccess(t,n,o)},n.prototype.endBySize=function(t,e,o){var n;if(this.optUp.use&&null!=e){n=(this.optUp.page.num-1)*this.optUp.page.size+t<e}this.endSuccess(t,n,o)},n.prototype.endSuccess=function(t,e,o){if(this.isDownScrolling&&this.endDownScroll(),this.optUp.use){var n;if(null!=t){var r=this.optUp.page.num,s=this.optUp.page.size;if(1==r&&(this.clearDataList(),o&&(this.optUp.page.time=o)),t<s||0==e)if(this.optUp.hasNext=!1,0==t&&1==r)n=!1,this.showEmpty();else{var a=(r-1)*s+t;n=!(a<this.optUp.noMoreSize),this.removeEmpty()}else n=!1,this.optUp.hasNext=!0,this.removeEmpty()}this.endUpScroll(n),this.loadFull()}},n.prototype.endErr=function(){if(this.isDownScrolling){var t=this.optUp.page;t&&this.prePageNum&&(t.num=this.prePageNum,t.time=this.prePageTime),this.endDownScroll()}this.isUpScrolling&&(this.optUp.page.num--,this.endUpScroll(!1))},n.prototype.loadFull=function(){var t=this;t.optUp.loadFull.use&&!t.optUp.isLock&&t.optUp.hasNext&&t.getScrollHeight()<=t.getClientHeight()&&setTimeout(function(){t.getScrollHeight()<=t.getClientHeight()&&t.triggerUpScroll()},t.optUp.loadFull.delay)},n.prototype.lockUpScroll=function(t){null==t&&(t=!0),this.optUp.isLock=t},n.prototype.showEmpty=function(){var t=this,e=t.optUp.empty,o=e.warpId||t.optUp.clearEmptyId;if(null!=o){var n=t.getDomById(o);if(n){t.removeEmpty();var r="";if(e.icon&&(r+='<img class="empty-icon" src="'+e.icon+'"/>'),e.tip&&(r+='<p class="empty-tip">'+e.tip+"</p>"),e.btntext&&(r+='<p class="empty-btn">'+e.btntext+"</p>"),t.emptyDom=document.createElement("div"),t.emptyDom.className="mescroll-empty",t.emptyDom.innerHTML=r,n.appendChild(t.emptyDom),e.btnClick){var s=t.emptyDom.getElementsByClassName("empty-btn")[0];e.supportTap?s.addEventListener("tap",function(t){t.stopPropagation(),t.preventDefault(),e.btnClick()}):s.onclick=function(){e.btnClick()}}}}},n.prototype.removeEmpty=function(){this.removeChild(this.emptyDom)},n.prototype.showTopBtn=function(){if(!this.topBtnShow){this.topBtnShow=!0;var t=this,e=t.optUp.toTop;if(null==t.toTopBtn){e.html?(t.toTopBtn=document.createElement("div"),t.toTopBtn.innerHTML=e.html):(t.toTopBtn=document.createElement("img"),t.toTopBtn.src=e.src),t.toTopBtn.className=e.warpClass,e.supportTap?t.toTopBtn.addEventListener("tap",function(e){e.stopPropagation(),e.preventDefault(),t.scrollTo(0,t.optUp.toTop.duration)}):t.toTopBtn.onclick=function(){t.scrollTo(0,t.optUp.toTop.duration)};var o;e.warpId&&(o=t.getDomById(e.warpId)),o||(o=document.body),o.appendChild(t.toTopBtn)}t.toTopBtn.classList.remove(e.hideClass),t.toTopBtn.classList.add(e.showClass)}},n.prototype.hideTopBtn=function(){this.topBtnShow&&this.toTopBtn&&(this.topBtnShow=!1,this.toTopBtn.classList.remove(this.optUp.toTop.showClass),this.toTopBtn.classList.add(this.optUp.toTop.hideClass))},n.prototype.scrollTo=function(t,e){var o=this,n=o.getScrollTop(),r=t;if(r>0){var s=o.getScrollHeight()-o.getClientHeight();r>s&&(r=s)}else r=0;o.isScrollTo=!0,o.getStep(n,r,function(t){o.setScrollTop(t),t==r&&(o.isScrollTo=!1)},e)},n.prototype.getStep=function(t,e,o,n,r){var s=e-t;if(0==n||0==s)return void(o&&o(e));n=n||300,r=r||30;var a=n/r,i=s/a,l=0,c=window.setInterval(function(){l<a-1?(t+=i,o&&o(t,c),l++):(o&&o(e,c),window.clearInterval(c))},r)},n.prototype.getScrollHeight=function(){return this.scrollDom.scrollHeight},n.prototype.getClientHeight=function(){return this.isScrollBody&&"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:this.scrollDom.clientHeight},n.prototype.getBodyHeight=function(){return document.body.clientHeight||document.documentElement.clientHeight},n.prototype.getScrollTop=function(){return this.isScrollBody?document.documentElement.scrollTop||document.body.scrollTop:this.scrollDom.scrollTop},n.prototype.getToBottom=function(){return this.getScrollHeight()-this.getClientHeight()-this.getScrollTop()},n.prototype.setScrollTop=function(t){this.isScrollBody?(document.documentElement.scrollTop=t,document.body.scrollTop=t):this.scrollDom.scrollTop=t},n.prototype.getDomById=function(t){var e;return t&&(e=document.getElementById(t)),e},n.prototype.removeChild=function(t){if(t){var e=t.parentNode;e&&e.removeChild(t),t=null}},n.prototype.destroy=function(){var t=this;t.scrollDom.removeEventListener("touchstart",t.touchstartEvent),t.scrollDom.removeEventListener("touchmove",t.touchmoveEvent),t.scrollDom.removeEventListener("touchend",t.touchendEvent),t.scrollDom.removeEventListener("touchcancel",t.touchendEvent),t.scrollDom.removeEventListener("mousedown",t.touchstartEvent),t.scrollDom.removeEventListener("mousemove",t.touchmoveEvent),t.scrollDom.removeEventListener("mouseup",t.touchendEvent),t.scrollDom.removeEventListener("mouseleave",t.touchendEvent),t.removeChild(t.downwarp),t.isScrollBody?window.removeEventListener("scroll",t.scrollEvent):t.scrollDom.removeEventListener("scroll",t.scrollEvent),t.removeChild(t.upwarp),t.removeChild(t.toTopBtn),t.setBounce(!0)},window.MeScroll=n},Uj0n:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(o("xzxg"),o("YtJ0")),r=(o("FBTV"),{data:function(){return{detail:{},mescroll:null,orderHis:[],screedData:[],lotteryDetail:!1,lotteryData:[]}},methods:{getDetail:function(t){this.detail=t,this.lotteryDetail=!0},showPicker:function(){this.picker.show()},getScreed:function(t){var e=this;JSON.parse(localStorage.list).forEach(function(o){o.type==t&&(e.screedData=o.list)})},createPicker:function(){var t=this;this.picker=this.$createPicker({title:"请选择",data:[this.screedData],alias:{value:"platform",text:"name"},onSelect:function(e,o,n){t.platform="all"==e[0]?"":e[0],t.mescroll.destroy(),t.newMescroll()}})},newMescroll:function(){this.mescroll=new MeScroll("mescroll",{up:{callback:this.upCallback,isBounce:!1,toTop:{offset:1e3},empty:{icon:"../../../../../../assets/img/public/image/common/personal/userInfo/no-more.png",tip:"亲,暂无相关数据哦~"}}})},upCallback:function(t){var e=this;this.getListDataFromNet(t.num,function(o){0==o.data.length&&1==t.num?(e.flag=!0,e.mescroll.endErr()):e.flag=!1,1==t.num&&(e.lotteryData=[]),e.lotteryData=e.lotteryData.concat(o.data),e.$loading(!1),e.mescroll.endByPage(o.data?o.data.length:0,o.per_page)},function(){e.mescroll.endErr()})}},destroyed:function(){this.$loading(!1),this.mescroll.destroy()},store:n.a});e.default=r},YtJ0:function(t,e,o){"use strict";var n=o("7+uW"),r=o("NYxO"),s=o("mvHQ"),a=o.n(s),i={headerTitle:"购彩大厅",userinfo:localStorage.userinfo&&JSON.parse(localStorage.userinfo),userBank:[],nowApi:"v1",balance:localStorage.userinfo&&JSON.parse(localStorage.userinfo).balance,ifpourT:!0},l={namespaced:!0,state:i,mutations:{resetHeaderTit:function(t,e){t.headerTitle=e},reloadUserinfo:function(t){t.userinfo=localStorage.userinfo&&JSON.parse(localStorage.userinfo)},resetUserinfo:function(t,e){t.userinfo=e},resetNowApi:function(t,e){t.nowApi=e},resetBalance:function(t,e){t.balance=e;var o=JSON.parse(localStorage.userinfo);o.balance=e,localStorage.userinfo=a()(o)},resetPour:function(t,e){t.ifpourT=e}},actions:{}},c=l,p={gameActive:0,balance:localStorage.userinfo&&JSON.parse(localStorage.userinfo).balance},u={state:p,mutations:{reselutGame:function(t,e){t.gameActive=e}}},d=u;n.a.use(r.a);var h=new r.a.Store({modules:{mainState:c,personal:d}});e.a=h},xzxg:function(t,e,o){"use strict";function n(){function t(t,e){return d.a.post(t,e)}var e=function(){var e=c()(i.a.mark(function e(o){var r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.call(o,m.a.prototype.$HOST_NAME+"/member/userinfo",{});case 2:if(r=e.sent,200!==r.code){e.next=9;break}return a=r.data,localStorage.userinfo=s()(a),e.abrupt("return",a);case 9:n.removeCache();case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=c()(i.a.mark(function e(o){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.call(o,m.a.prototype.$HOST_NAME+"/member/logout",{});case 2:r=e.sent,200===r.code?(n.removeCache(),h.d.success("登出成功！"),window.location.reload()):(n.removeCache(),h.d.fail("登出失败！"));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n=this;this.vpGetBasicInfo=c()(i.a.mark(function t(){var o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.token){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,e(this);case 4:o=t.sent,o&&p.a.commit("mainState/reloadUserinfo");case 6:case"end":return t.stop()}},t,this)})),this.reloadBalance=c()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.token){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,d.a.post(m.a.prototype.$HOST_NAME+"/member/getBalance",{});case 4:e=t.sent,200==e.code?p.a.commit("mainState/resetBalance",e.data):h.d.fail(e.message);case 6:case"end":return t.stop()}},t,this)})),this.expiredPart=function(t){if(!t)return!1;var e=t.split(".")[1],o={enKey:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",deKey:new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),encode:function(t){for(var e,o,n,r=new Array,s=0;s+3<=t.length;)e=t.charCodeAt(s++),o=t.charCodeAt(s++),n=t.charCodeAt(s++),r.push(this.enKey.charAt(e>>2),this.enKey.charAt((e<<4)+(o>>4)&63)),r.push(this.enKey.charAt((o<<2)+(n>>6)&63),this.enKey.charAt(63&n));return s<t.length&&(e=t.charCodeAt(s++),r.push(this.enKey.charAt(e>>2)),s<t.length?(o=t.charCodeAt(s),r.push(this.enKey.charAt((e<<4)+(o>>4)&63)),r.push(this.enKey.charAt(o<<2&63),"=")):r.push(this.enKey.charAt(e<<4&63),"==")),r.join("")},decode:function(t){var e,o,n,r,s=new Array,a=0;for(t=t.replace(/[^A-Za-z0-9\+\/]/g,"");a+4<=t.length;)e=this.deKey[t.charCodeAt(a++)],o=this.deKey[t.charCodeAt(a++)],n=this.deKey[t.charCodeAt(a++)],r=this.deKey[t.charCodeAt(a++)],s.push(String.fromCharCode((e<<2&255)+(o>>4),(o<<4&255)+(n>>2),(n<<6&255)+r));return a+1<t.length&&(e=this.deKey[t.charCodeAt(a++)],o=this.deKey[t.charCodeAt(a++)],a<t.length?(n=this.deKey[t.charCodeAt(a)],s.push(String.fromCharCode((e<<2&255)+(o>>4),(o<<4&255)+(n>>2)))):s.push(String.fromCharCode((e<<2&255)+(o>>4)))),s.join("")}},n=JSON.parse(o.decode(e)),r=Math.floor((new Date).getTime()/1e3);return{exp:n.exp,timestamp:r}};var r=!0;this.expired=function(){var t=n.expiredPart(localStorage.token);if(t.exp-t.timestamp<=1800&&0<=t.exp-t.timestamp){if(!r)return!1;r=!1,setTimeout(function(){n.vpReloadToken()},5e3)}else 0>t.exp-t.timestamp&&n.removeCache()},this.vpReloadToken=c()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.token){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,d.a.post(m.a.prototype.$HOST_NAME+"/member/refresh",{});case 4:e=t.sent,200===e.code?(localStorage.token=e.data,r=!0):n.removeCache();case 6:case"end":return t.stop()}},t,this)})),this.vpSetConfig=function(){var t=this;if(localStorage.updated_at)return n.vpGetBasWebsoc(),!1;m.a.prototype.$nextTick(c()(i.a.mark(function e(){var o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get(m.a.prototype.$HOST_NAME+"/config",{});case 2:o=t.sent,o&&200==o.code&&(o.data.siteConfig.siteId=o.data.id,localStorage.configTime=o.data.data?o.data.data.updated_at:o.data.updated_at,localStorage.config=o.data.data?s()(o.data.data.siteConfig):s()(o.data.siteConfig),n.vpGetBasWebsoc());case 4:case"end":return t.stop()}},e,t)})))},this.vpReloadConfig=c()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get(m.a.prototype.$HOST_NAME+"/config",{});case 2:e=t.sent,200==e.code&&(e.data.siteConfig.siteId=e.data.id,localStorage.configTime=e.sign,localStorage.config=e.data.data?s()(e.data.data.siteConfig):s()(e.data.siteConfig));case 4:case"end":return t.stop()}},t,this)}));var a=!0,l="";this.vpGetBasWebsoc=function(){var e=this;if(l=this,!a)return!1;m.a.prototype.$nextTick(c()(i.a.mark(function o(){var r,s,c,p,u,d,h,f;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(t){for(var e="",o=0;o<t;o++){var n=Math.ceil(35*Math.random());e+=d[n]}return e},e.next=3,t(m.a.prototype.$HOST_NAME+"/websocket",{});case 3:if(r=e.sent,200!=r.code){e.next=8;break}a=!1,e.next=10;break;case 8:if(r){e.next=10;break}return e.abrupt("return",!1);case 10:s=r.data.wss,c={},p="",u="",d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],localStorage.userinfo&&(p=""+JSON.parse(localStorage.userinfo).uid),"test"==localStorage.Public_User?u="test":"vm"==localStorage.Public_User?u="vm":"v1"==localStorage.Public_User&&localStorage.token?u="member":(f=JSON.parse(localStorage.config).siteId,u="anonymous",p=f+"_"+(new Date).getTime()+h(16)),c.socket=Stomp.client(s),c.headers={id:p,group:u},c.message={all:"/topic/public",group:"/group/"+c.headers.group,alone:"/user/"+c.headers.group+"_"+c.headers.id+"/message"},c.socket.connect(c.headers,function(t){c.socket.subscribe(c.message.all,function(t){"user.lotteryOpen"==JSON.parse(t.body).type?l.websoc&&l.websoc(JSON.parse(t.body)):n.publicInform(JSON.parse(t.body))}),c.socket.subscribe(c.message.group,function(t){"user.lotteryOpen"==JSON.parse(t.body).type?l.websoc&&l.websoc(JSON.parse(t.body)):n.publicInform(JSON.parse(t.body))}),c.socket.subscribe(c.message.alone,function(t){"user.lotteryOpen"==JSON.parse(t.body).type?l.websoc&&l.websoc(JSON.parse(t.body)):n.publicInform(JSON.parse(t.body))})});case 21:case"end":return e.stop()}},o,e)})))},this.publicInform=function(t){if("user.lotteryOpen"==t.type)return!1;h.a.alert({title:t.typeName?t.typeName:"温馨提示",message:t.message}).then(function(){})},this.logout=c()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.token){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,o(this);case 4:e=t.sent;case 5:case"end":return t.stop()}},t,this)})),this.removeCache=function(){if(delete localStorage.token,delete localStorage.userinfo,delete localStorage.paylist,delete localStorage.refundKey,delete localStorage.list,p.a.commit("mainState/resetUserinfo",null),"/api/vm"==m.a.prototype.$HOST_NAME)return!1;delete localStorage.Public_User,m.a.prototype.$HOST_NAME="/api/v1"},this.setCache=function(t,e){if(localStorage.token=t.data.token,localStorage.userinfo=s()(t.data.userinfo),p.a.commit("mainState/reloadUserinfo"),"/api/vm"==m.a.prototype.$HOST_NAME)return!1;localStorage.Public_User=e,m.a.prototype.$HOST_NAME="/api/"+e},this.vpInitHtml=function(t,e){this.fontSize=+document.querySelector("html").style.fontSize.split("px")[0]/100;var o=window.innerHeight;if("init"==t){var n=0;n=e&&"k3"==e?133:e&&"pcdd"==e||e&&"3d"==e?137:185;var r=o-(n+80+88)*this.fontSize;this.$refs["lottery-cont"].style.height=r+"px"}}}var r=o("mvHQ"),s=o.n(r),a=o("Xxa5"),i=o.n(a),l=o("exGp"),c=o.n(l),p=o("YtJ0"),u=o("mtWM"),d=o.n(u),h=o("Fd2+"),m=o("7+uW");e.a=new n}},[23]);