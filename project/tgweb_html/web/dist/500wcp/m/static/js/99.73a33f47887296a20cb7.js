/*! sign by h5 */
webpackJsonp([99],{"5mYh":function(e,t,a){"use strict";function s(e){a("Uaro")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("YtJ0"),r=a("xzxg"),n={data:function(){return{safetyData:[{title:"登录密码"},{title:"资金密码"},{title:"密保问题"}],secretData:[],safetyNum:0,loginOldPassword:"",loginNewPassword:"",reLoginOldPassword:"",payOldPassword:"",payNewPassword:"",password_confirmation:"",loginValue:"",payValue:"",value:"",newKey:"",newValue:""}},methods:{updataPwd:function(){var e=this;if(0==this.safetyNum){var t=this.validateAccount(this.loginOldPassword),a=this.validateAccount(this.loginNewPassword);if(!t)return this.$newToast("请输入6-20位数字或字母原密码"),!1;if(!a)return this.$newToast("请输入6-20位数字或字母新密码"),!1;if(this.reLoginOldPassword!==this.loginNewPassword)return this.$newToast("两次密码不一致"),!1;this.$http.post(this.$HOST_NAME+"/member/resetPassword",{oldpassword:this.loginOldPassword,password:this.loginNewPassword,password_confirmation:this.reLoginOldPassword}).then(function(t){200==t.code&&(e.loginOldPassword="",e.loginNewPassword="",e.reLoginOldPassword="",e.loginValue="",e.$toast.success("修改成功"))})}else if(1==this.safetyNum)if("set"!==this.$store.state.mainState.userinfo.payPassword){var s=this.dInvalidMoney(this.payNewPassword);if(!this.payNewPassword||!s)return this.$newToast("请输入6位数字资金密码"),!1;if(this.password_confirmation!==this.payNewPassword)return this.$newToast("两次密码不一致"),!1;this.$http.post(this.$HOST_NAME+"/member/resetMember",{payPassword:this.payNewPassword}).then(function(t){200==t.code&&(e.payNewPassword="",e.password_confirmation="",r.a.vpGetBasicInfo.call(e),e.$toast.success("设置成功"))})}else{var o=this.dInvalidMoney(this.payOldPassword),n=this.dInvalidMoney(this.payNewPassword);if(!this.payOldPassword||!o)return this.$newToast("请输入6位数字原资金密码"),!1;if(!this.payNewPassword||!n)return this.$newToast("请输入6位数字新资金密码"),!1;if(this.password_confirmation!==this.payNewPassword)return this.$newToast("两次密码不一致"),!1;if(!this.payValue)return this.$newToast("请输入密保答案"),!1;this.$http.post(this.$HOST_NAME+"/member/resetPayPassword",{oldpassword:this.payOldPassword,paypassword:this.payNewPassword,password_confirmation:this.password_confirmation,key:this.$store.state.mainState.userinfo.secret,value:this.payValue}).then(function(t){200==t.code&&(e.payOldPassword="",e.payNewPassword="",e.password_confirmation="",e.payValue="",e.$toast.success("修改成功"))})}else{var i={};if(this.$store.state.mainState.userinfo.secret){if(i.key=this.$store.state.mainState.userinfo.secret,i.value=this.value,!i.value)return this.$newToast("请输入原密保答案"),!1;if(i.newKey=this.newKey,!i.newKey)return this.$newToast("请选择新密保问题"),!1;if(i.newValue=this.newValue,!i.newValue)return this.$newToast("请输入新密保答案"),!1}else{if(i.key=this.newKey,!i.key)return this.$newToast("请选择密保答案"),!1;if(i.value=this.newValue,!i.value)return this.$newToast("请输入密保答案"),!1}this.$http.post(this.$HOST_NAME+"/member/secret",i).then(function(t){200==t.code&&(e.$toast.success("设置成功"),e.value="",e.newKey="",e.newValue="",r.a.vpGetBasicInfo.call(e))})}},secretKey:function(){var e=this;this.$http.post(this.$HOST_NAME+"/member/secretKey").then(function(t){200==t.code&&(e.secretData=t.data,e.newKey=t.data[0])})}},created:function(){this.secretKey()},computed:{upText:function(){return 0==this.safetyNum?"修改登录密码":1==this.safetyNum?"修改资金密码":2==this.safetyNum?"修改密保问题":void 0}},store:o.a},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"safety"},[a("div",{staticClass:"safety-content"},[a("nav",e._l(e.safetyData,function(t,s){return a("a",{key:s,class:{active:s==e.safetyNum},on:{click:function(t){e.safetyNum=s}}},[e._v("\n\n        "+e._s(t.title)+"\n\n      ")])})),e._v(" "),0==e.safetyNum?a("div",{staticClass:"safety-view "},[a("div",{staticClass:"row"},[a("label",[e._v("原登录密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.loginOldPassword,expression:"loginOldPassword"}],attrs:{type:"password",placeholder:"请输入原登录密码"},domProps:{value:e.loginOldPassword},on:{input:function(t){t.target.composing||(e.loginOldPassword=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"row"},[a("label",[e._v("新登录密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.loginNewPassword,expression:"loginNewPassword"}],attrs:{type:"password",placeholder:"请输入新密码"},domProps:{value:e.loginNewPassword},on:{input:function(t){t.target.composing||(e.loginNewPassword=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"row"},[a("label",[e._v("确认密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reLoginOldPassword,expression:"reLoginOldPassword"}],attrs:{type:"password",placeholder:"重新输入新密码"},domProps:{value:e.reLoginOldPassword},on:{input:function(t){t.target.composing||(e.reLoginOldPassword=t.target.value)}}})])]):e._e(),e._v(" "),1==e.safetyNum&&"set"==this.$store.state.mainState.userinfo.payPassword?a("div",{staticClass:"safety-view"},[a("div",{staticClass:"row"},[a("label",[e._v("原资金密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.payOldPassword,expression:"payOldPassword"}],attrs:{type:"password",placeholder:"请输入原资金密码",maxlength:"6"},domProps:{value:e.payOldPassword},on:{input:function(t){t.target.composing||(e.payOldPassword=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"row"},[a("label",[e._v("新资金密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.payNewPassword,expression:"payNewPassword"}],attrs:{type:"password",placeholder:"请输入新密码",maxlength:"6"},domProps:{value:e.payNewPassword},on:{input:function(t){t.target.composing||(e.payNewPassword=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"row"},[a("label",[e._v("确认密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirmation,expression:"password_confirmation"}],attrs:{type:"password",placeholder:"重新输入新密码",maxlength:"6"},domProps:{value:e.password_confirmation},on:{input:function(t){t.target.composing||(e.password_confirmation=t.target.value)}}})])]):e._e(),e._v(" "),1==e.safetyNum&&"set"==this.$store.state.mainState.userinfo.payPassword?a("div",{staticClass:"up-mibao"},[a("p",[e._v("请回答密保问题")]),e._v(" "),a("div",{staticClass:"row"},[a("label",[e._v("密保问题")]),e._v(" "),a("span",[e._v(e._s(this.$store.state.mainState.userinfo.secret))])]),e._v(" "),a("div",{staticClass:"row"},[a("label",[e._v("密保答案")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.payValue,expression:"payValue"}],attrs:{type:"text",placeholder:"请输入密保答案"},domProps:{value:e.payValue},on:{input:function(t){t.target.composing||(e.payValue=t.target.value)}}})])]):e._e(),e._v(" "),1==e.safetyNum&&"noset"==this.$store.state.mainState.userinfo.payPassword?a("div",{staticClass:"safety-view"},[a("div",{staticClass:"row"},[a("label",[e._v("资金密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.payNewPassword,expression:"payNewPassword"}],attrs:{type:"password",placeholder:"请输入6位资金密码"},domProps:{value:e.payNewPassword},on:{input:function(t){t.target.composing||(e.payNewPassword=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"row"},[a("label",[e._v("确认密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirmation,expression:"password_confirmation"}],attrs:{type:"password",placeholder:"重新输入6位资金密码"},domProps:{value:e.password_confirmation},on:{input:function(t){t.target.composing||(e.password_confirmation=t.target.value)}}})])]):e._e(),e._v(" "),2==e.safetyNum?a("div",{staticClass:"set-mibao"},[this.$store.state.mainState.userinfo.secret?a("div",{staticClass:"old-mibao"},[a("p",[e._v("请回答原密保问题")]),e._v(" "),a("div",{staticClass:"row"},[a("label",[e._v("密保问题")]),e._v(" "),a("span",[e._v(e._s(this.$store.state.mainState.userinfo.secret))])]),e._v(" "),a("div",{staticClass:"row"},[a("label",[e._v("密保答案")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"text",placeholder:"请输入密保答案"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})]),e._v(" "),a("p",[e._v("请设置新密保问题")]),e._v(" "),a("div",{staticClass:"row"},[a("label",[e._v("密保问题")]),e._v(" "),a("cube-select",{attrs:{options:e.secretData},model:{value:e.newKey,callback:function(t){e.newKey=t},expression:"newKey"}})],1),e._v(" "),a("div",{staticClass:"row"},[a("label",[e._v("密保答案")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newValue,expression:"newValue"}],attrs:{type:"text",placeholder:"请输入密保答案"},domProps:{value:e.newValue},on:{input:function(t){t.target.composing||(e.newValue=t.target.value)}}})])]):a("div",{staticClass:"new-mibao"},[a("div",{staticClass:"row"},[a("label",[e._v("密保问题")]),e._v(" "),a("cube-select",{attrs:{options:e.secretData},model:{value:e.newKey,callback:function(t){e.newKey=t},expression:"newKey"}})],1),e._v(" "),a("div",{staticClass:"row"},[a("label",[e._v("密保答案")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newValue,expression:"newValue"}],attrs:{type:"text",placeholder:"请输入密保答案"},domProps:{value:e.newValue},on:{input:function(t){t.target.composing||(e.newValue=t.target.value)}}})])])]):e._e(),e._v(" "),a("div",{staticClass:"submitBt bg-color ",on:{click:e.updataPwd}},[e._v(e._s(e.upText))])])])},l=[],c={render:i,staticRenderFns:l},d=c,u=a("VU/8"),p=s,f=u(n,d,!1,p,null,null);t.default=f.exports},Uaro:function(e,t,a){var s=a("kUiH");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("dea1a8da",s,!0,{})},YtJ0:function(e,t,a){"use strict";var s=a("7+uW"),o=a("NYxO"),r=a("mvHQ"),n=a.n(r),i={headerTitle:"购彩大厅",userinfo:localStorage.userinfo&&JSON.parse(localStorage.userinfo),userBank:[],nowApi:"v1",balance:localStorage.userinfo&&JSON.parse(localStorage.userinfo).balance,ifpourT:!0},l={namespaced:!0,state:i,mutations:{resetHeaderTit:function(e,t){e.headerTitle=t},reloadUserinfo:function(e){e.userinfo=localStorage.userinfo&&JSON.parse(localStorage.userinfo)},resetUserinfo:function(e,t){e.userinfo=t},resetNowApi:function(e,t){e.nowApi=t},resetBalance:function(e,t){e.balance=t;var a=JSON.parse(localStorage.userinfo);a.balance=t,localStorage.userinfo=n()(a)},resetPour:function(e,t){e.ifpourT=t}},actions:{}},c=l,d={gameActive:0,balance:localStorage.userinfo&&JSON.parse(localStorage.userinfo).balance},u={state:d,mutations:{reselutGame:function(e,t){e.gameActive=t}}},p=u;s.a.use(o.a);var f=new o.a.Store({modules:{mainState:c,personal:p}});t.a=f},kUiH:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".safety .safety-content nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:#fff;padding:.25rem 0}.safety .safety-content nav a{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:center;font-size:.28rem;position:relative}.safety .safety-content .safety-view{margin-top:.2rem;padding-left:.3rem;background:#fff}.safety .safety-content .safety-view .row{height:45px;font-size:.3rem;color:#424242;line-height:45px;position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.safety .safety-content .safety-view .row label{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:inline-block}.safety .safety-content .safety-view .row input{-webkit-box-flex:3;-webkit-flex:3;-ms-flex:3;flex:3;font-size:.28rem;color:#424242}.safety .safety-content .safety-view .row:last-child{border:none}.safety .safety-content .up-mibao{background:#fff}.safety .safety-content .up-mibao p{height:40px;line-height:45px;font-size:.28rem;color:#666;background:#f6f6f8;padding-left:.3rem}.safety .safety-content .up-mibao .row{height:45px;font-size:.3rem;color:#424242;line-height:45px;position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-left:.3rem}.safety .safety-content .up-mibao .row label{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:inline-block}.safety .safety-content .up-mibao .row input,.safety .safety-content .up-mibao .row span{-webkit-box-flex:3;-webkit-flex:3;-ms-flex:3;flex:3;font-size:.28rem;color:#424242}.safety .safety-content .up-mibao .row:last-child{border:none}.safety .safety-content .set-mibao{background:#fff}.safety .safety-content .set-mibao .new-mibao{margin-top:.2rem}.safety .safety-content .set-mibao p{height:40px;line-height:45px;font-size:.28rem;color:#666;background:#f6f6f8;padding-left:.3rem}.safety .safety-content .set-mibao .row{height:45px;font-size:.3rem;color:#424242;line-height:45px;position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-left:.3rem}.safety .safety-content .set-mibao .row label{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:inline-block}.safety .safety-content .set-mibao .row input,.safety .safety-content .set-mibao .row span{-webkit-box-flex:3;-webkit-flex:3;-ms-flex:3;flex:3;font-size:.28rem;color:#424242}.safety .safety-content .set-mibao .row .cube-select{-webkit-box-flex:3;-webkit-flex:3;-ms-flex:3;flex:3;padding:.1rem .4rem .2rem .2rem;border-radius:.04rem;font-size:.28rem;background-color:transparent}.safety .safety-content .set-mibao .row .cube-select .cube-select-text{line-height:35px}.safety .safety-content .set-mibao .row .cube-select .cube-select-placeholder{display:none}.safety .safety-content .set-mibao .row .cube-select .cube-select-text{color:#424242}.safety .safety-content .set-mibao .row .cube-select:before{top:14px}.safety .safety-content .set-mibao .row .cube-select:after,.safety .safety-content .set-mibao .row:last-child{border:none}.safety .submitBt{height:.9rem;line-height:.9rem;text-align:center;color:#fff;margin:0 .2rem;margin-top:.3rem;font-size:.36rem}",""])},xzxg:function(e,t,a){"use strict";function s(){function e(e,t){return p.a.post(e,t)}var t=function(){var t=c()(i.a.mark(function t(a){var o,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.call(a,m.a.prototype.$HOST_NAME+"/member/userinfo",{});case 2:if(o=t.sent,200!==o.code){t.next=9;break}return n=o.data,localStorage.userinfo=r()(n),t.abrupt("return",n);case 9:s.removeCache();case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),a=function(){var t=c()(i.a.mark(function t(a){var o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.call(a,m.a.prototype.$HOST_NAME+"/member/logout",{});case 2:o=t.sent,200===o.code?(s.removeCache(),f.d.success("登出成功！"),window.location.reload()):(s.removeCache(),f.d.fail("登出失败！"));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),s=this;this.vpGetBasicInfo=c()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.token){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,t(this);case 4:a=e.sent,a&&d.a.commit("mainState/reloadUserinfo");case 6:case"end":return e.stop()}},e,this)})),this.reloadBalance=c()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.token){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,p.a.post(m.a.prototype.$HOST_NAME+"/member/getBalance",{});case 4:t=e.sent,200==t.code?d.a.commit("mainState/resetBalance",t.data):f.d.fail(t.message);case 6:case"end":return e.stop()}},e,this)})),this.expiredPart=function(e){if(!e)return!1;var t=e.split(".")[1],a={enKey:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",deKey:new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),encode:function(e){for(var t,a,s,o=new Array,r=0;r+3<=e.length;)t=e.charCodeAt(r++),a=e.charCodeAt(r++),s=e.charCodeAt(r++),o.push(this.enKey.charAt(t>>2),this.enKey.charAt((t<<4)+(a>>4)&63)),o.push(this.enKey.charAt((a<<2)+(s>>6)&63),this.enKey.charAt(63&s));return r<e.length&&(t=e.charCodeAt(r++),o.push(this.enKey.charAt(t>>2)),r<e.length?(a=e.charCodeAt(r),o.push(this.enKey.charAt((t<<4)+(a>>4)&63)),o.push(this.enKey.charAt(a<<2&63),"=")):o.push(this.enKey.charAt(t<<4&63),"==")),o.join("")},decode:function(e){var t,a,s,o,r=new Array,n=0;for(e=e.replace(/[^A-Za-z0-9\+\/]/g,"");n+4<=e.length;)t=this.deKey[e.charCodeAt(n++)],a=this.deKey[e.charCodeAt(n++)],s=this.deKey[e.charCodeAt(n++)],o=this.deKey[e.charCodeAt(n++)],r.push(String.fromCharCode((t<<2&255)+(a>>4),(a<<4&255)+(s>>2),(s<<6&255)+o));return n+1<e.length&&(t=this.deKey[e.charCodeAt(n++)],a=this.deKey[e.charCodeAt(n++)],n<e.length?(s=this.deKey[e.charCodeAt(n)],r.push(String.fromCharCode((t<<2&255)+(a>>4),(a<<4&255)+(s>>2)))):r.push(String.fromCharCode((t<<2&255)+(a>>4)))),r.join("")}},s=JSON.parse(a.decode(t)),o=Math.floor((new Date).getTime()/1e3);return{exp:s.exp,timestamp:o}};var o=!0;this.expired=function(){var e=s.expiredPart(localStorage.token);if(e.exp-e.timestamp<=1800&&0<=e.exp-e.timestamp){if(!o)return!1;o=!1,setTimeout(function(){s.vpReloadToken()},5e3)}else 0>e.exp-e.timestamp&&s.removeCache()},this.vpReloadToken=c()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.token){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,p.a.post(m.a.prototype.$HOST_NAME+"/member/refresh",{});case 4:t=e.sent,200===t.code?(localStorage.token=t.data,o=!0):s.removeCache();case 6:case"end":return e.stop()}},e,this)})),this.vpSetConfig=function(){var e=this;if(localStorage.updated_at)return s.vpGetBasWebsoc(),!1;m.a.prototype.$nextTick(c()(i.a.mark(function t(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(m.a.prototype.$HOST_NAME+"/config",{});case 2:a=e.sent,a&&200==a.code&&(a.data.siteConfig.siteId=a.data.id,localStorage.configTime=a.data.data?a.data.data.updated_at:a.data.updated_at,localStorage.config=a.data.data?r()(a.data.data.siteConfig):r()(a.data.siteConfig),s.vpGetBasWebsoc());case 4:case"end":return e.stop()}},t,e)})))},this.vpReloadConfig=c()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(m.a.prototype.$HOST_NAME+"/config",{});case 2:t=e.sent,200==t.code&&(t.data.siteConfig.siteId=t.data.id,localStorage.configTime=t.sign,localStorage.config=t.data.data?r()(t.data.data.siteConfig):r()(t.data.siteConfig));case 4:case"end":return e.stop()}},e,this)}));var n=!0,l="";this.vpGetBasWebsoc=function(){var t=this;if(l=this,!n)return!1;m.a.prototype.$nextTick(c()(i.a.mark(function a(){var o,r,c,d,u,p,f,w;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f=function(e){for(var t="",a=0;a<e;a++){var s=Math.ceil(35*Math.random());t+=p[s]}return t},t.next=3,e(m.a.prototype.$HOST_NAME+"/websocket",{});case 3:if(o=t.sent,200!=o.code){t.next=8;break}n=!1,t.next=10;break;case 8:if(o){t.next=10;break}return t.abrupt("return",!1);case 10:r=o.data.wss,c={},d="",u="",p=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],localStorage.userinfo&&(d=""+JSON.parse(localStorage.userinfo).uid),"test"==localStorage.Public_User?u="test":"vm"==localStorage.Public_User?u="vm":"v1"==localStorage.Public_User&&localStorage.token?u="member":(w=JSON.parse(localStorage.config).siteId,u="anonymous",d=w+"_"+(new Date).getTime()+f(16)),c.socket=Stomp.client(r),c.headers={id:d,group:u},c.message={all:"/topic/public",group:"/group/"+c.headers.group,alone:"/user/"+c.headers.group+"_"+c.headers.id+"/message"},c.socket.connect(c.headers,function(e){c.socket.subscribe(c.message.all,function(e){"user.lotteryOpen"==JSON.parse(e.body).type?l.websoc&&l.websoc(JSON.parse(e.body)):s.publicInform(JSON.parse(e.body))}),c.socket.subscribe(c.message.group,function(e){"user.lotteryOpen"==JSON.parse(e.body).type?l.websoc&&l.websoc(JSON.parse(e.body)):s.publicInform(JSON.parse(e.body))}),c.socket.subscribe(c.message.alone,function(e){"user.lotteryOpen"==JSON.parse(e.body).type?l.websoc&&l.websoc(JSON.parse(e.body)):s.publicInform(JSON.parse(e.body))})});case 21:case"end":return t.stop()}},a,t)})))},this.publicInform=function(e){if("user.lotteryOpen"==e.type)return!1;f.a.alert({title:e.typeName?e.typeName:"温馨提示",message:e.message}).then(function(){})},this.logout=c()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.token){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,a(this);case 4:t=e.sent;case 5:case"end":return e.stop()}},e,this)})),this.removeCache=function(){if(delete localStorage.token,delete localStorage.userinfo,delete localStorage.paylist,delete localStorage.refundKey,delete localStorage.list,d.a.commit("mainState/resetUserinfo",null),"/api/vm"==m.a.prototype.$HOST_NAME)return!1;delete localStorage.Public_User,m.a.prototype.$HOST_NAME="/api/v1"},this.setCache=function(e,t){if(localStorage.token=e.data.token,localStorage.userinfo=r()(e.data.userinfo),d.a.commit("mainState/reloadUserinfo"),"/api/vm"==m.a.prototype.$HOST_NAME)return!1;localStorage.Public_User=t,m.a.prototype.$HOST_NAME="/api/"+t},this.vpInitHtml=function(e,t){this.fontSize=+document.querySelector("html").style.fontSize.split("px")[0]/100;var a=window.innerHeight;if("init"==e){var s=0;s=t&&"k3"==t?133:t&&"pcdd"==t||t&&"3d"==t?137:185;var o=a-(s+80+88)*this.fontSize;this.$refs["lottery-cont"].style.height=o+"px"}}}var o=a("mvHQ"),r=a.n(o),n=a("Xxa5"),i=a.n(n),l=a("exGp"),c=a.n(l),d=a("YtJ0"),u=a("mtWM"),p=a.n(u),f=a("Fd2+"),m=a("7+uW");t.a=new s}});